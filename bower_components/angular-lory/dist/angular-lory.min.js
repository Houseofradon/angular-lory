/*!
 * angular-lory
 * 
 * 
 * Version: 0.1.0 - 2015-11-24T10:43:04.760Z
 * License: 
 */
"use strict";angular.module("ngLory",[]).constant("ngLoryConfig",{method:{},event:{}}).directive("lory",["$window","$timeout","ngLoryConfig",function(e,n,t){var r=["prev","next","slideTo","returnIndex","setup","reset","destroy"];return{scope:{settings:"=",slidesToScroll:"@",infinite:"@",rewind:"@",slideSpeed:"@",rewindSpeed:"@",snapBackSpeed:"@",ease:"@",classNameFrame:"@",classNameSlideContainer:"@",classNamePrevCtrl:"@",classNameNextCtrl:"@"},restrict:"E",replace:!0,link:function(i,s,o){angular.element(s).css("display","none");var a,l,d,c,u,f,p,v;return d=function(){l=angular.extend(angular.copy(t),{waitForInit:i.initOnStart||!1,startIndex:i.startIndex||void 0,enableMouseEvents:i.enableMouseEvents||!0,slidesToScroll:isNaN(parseInt(i.slidesToScroll,10))?1:parseInt(i.slidesToScroll,10),infinite:isNaN(parseInt(i.infinite,10))?1:parseInt(i.infinitve,10),rewind:isNaN(parseInt(i.rewind,10))?!1:parseInt(i.rewind,10),slideSpeed:isNaN(parseInt(i.slideSpeed,10))?300:parseInt(i.slideSpeed,10),rewindSpeed:isNaN(parseInt(i.rewindSpeed,10))?600:parseInt(i.rewindSpeed,10),snapBackSpeed:isNaN(parseInt(i.snapBackSpeed,10))?200:parseInt(i.snapBackSpeed,10),ease:i.cssEase||"ease",classNameFrame:i.ClassNameFrame||"js_frame",classNameSlideContainer:i.classNameSlideContainer||"js_slides",classNamePrevCtrl:i.classNamePrevCtrl||"js_prev",classNameNextCtrl:i.classNameNextCtrl||"js_next"},i.settings)},c=function(){var e=angular.element(s);return a&&(a.destroy(),a=void 0,angular.element(s).css("display","none")),e},u=function(){d();var t=angular.element(s)[0];a?a.reset():(angular.element(s).css("display","block"),t.addEventListener("after.lory.init",function(e){"function"==typeof l.event.afterInit&&l.event.afterInit(e),"undefined"!=typeof p&&n(function(){a.slideTo(p)},0)}),n(function(){p=l.startIndex,a=e.lory(t,l)},0)),t.addEventListener("before.lory.slide",function(e){"function"==typeof l.event.beforeSlide&&l.event.beforeSlide(e,e.detail.currentSlide,e.detail.nextSlide,a,t)}),t.addEventListener("after.lory.slide",function(e){"function"==typeof l.event.afterSlide&&l.event.afterSlide(e,e.detail.currentSlide,a,t)}),"function"==typeof l.event.resize&&t.addEventListener("on.lory.resize",function(e){l.event.resize(e,a,t)}),"function"==typeof l.event.touchEnd&&t.addEventListener("on.lory.touchend",function(e){l.event.touchEnd(e)}),"function"==typeof l.event.touchMove&&t.addEventListener("on.lory.touchmove",function(e){l.event.touchMove(e)}),"function"==typeof l.event.touchStart&&t.addEventListener("on.lory.touchstart",function(e){l.event.touchStart(e)}),"function"==typeof l.event.destroy&&t.addEventListener("after.lory.destroy",function(e){l.event.destroy(e,a,t)})},f=function(){c(),u()},v=function(e){i.internalControl=e||{},r.forEach(function(e){i.internalControl[e]=function(){var n;return n=Array.prototype.slice.call(arguments),n.unshift(e),"setup"===e?f():"destroy"===e?c():a?void a[e](n[n.length-1]):void console.warn("you need to instantiate lory first")}})},s.one("$destroy",function(){c()}),i.$watch("settings",function(e,n){return null!==e&&void 0!==e&&v(e.method),null===e||void 0===e||e.waitForInit?void 0:f()},!0)}}}]);